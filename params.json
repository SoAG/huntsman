{"name":"Huntsman","tagline":"A simple web spider","body":"\r\n# A super simple web spider\r\n\r\nHuntsman takes one or more 'seed' urls with the `spider.queue.add()` method.\r\n\r\nOnce the process is kicked off with `spider.start()`, it will take care of extracting links from the page and following only the pages we want.\r\n\r\nTo define which pages are crawled and extract data, use `spider.on()` with a string or regular expression.\r\n\r\nEach page will only be crawled once. If multiple regular expressions match the uri, they will all be called.\r\n\r\n**Page URLs which do not match an `on` condition will never be crawled**\r\n\r\n### Install\r\n\r\n```bash\r\nnpm install huntsman --save\r\n```\r\n\r\n[![NPM](https://nodei.co/npm/huntsman.png?downloads=true&stars=true)](https://nodei.co/npm/huntsman/)\r\n\r\n### Example Script\r\n\r\n```javascript\r\n/** Crawl wikipedia and use jquery syntax to extract information from the page **/\r\n\r\nvar huntsman = require('huntsman');\r\nvar spider = huntsman.spider();\r\n\r\nspider.extensions = [\r\n  huntsman.extension( 'recurse' ), // load recurse extension & follow anchor links\r\n  huntsman.extension( 'cheerio' ) // load cheerio extension\r\n];\r\n\r\n// follow pages which match this uri regex\r\nspider.on( /http:\\/\\/en\\.wikipedia\\.org\\/wiki\\/\\w+:\\w+$/, function ( err, res ){\r\n\r\n  // use jquery-style selectors & functions\r\n  var $ = res.extension.cheerio;\r\n\r\n  // extract information from page body\r\n  var wikipedia = {\r\n    uri: res.uri,\r\n    heading: $('h1.firstHeading').text().trim(),\r\n    body: $('div#mw-content-text p').text().trim()\r\n  };\r\n\r\n  console.log( wikipedia );\r\n\r\n});\r\n\r\nspider.queue.add( 'http://en.wikipedia.org/wiki/Huntsman_spider' );\r\nspider.start();\r\n```\r\n\r\n### Example Output\r\n\r\n```bash\r\npeter@edgy:/tmp$ node examples/html.js \r\n{\r\n  \"uri\": \"http://en.wikipedia.org/wiki/Wikipedia:Recent_additions\",\r\n  \"heading\": \"Wikipedia:Recent additions\",\r\n  \"body\": \"This is a selection of recently created new articles and greatly expanded former stub articles on Wikipedia that were featured on the Main Page as part of Did you know? You can submit new pages for consideration. (Archives are grouped by month of Main page appearance.)Tip: To find which archive contains the fact that appeared on Did You Know?, return to the article and click \\\"What links here\\\" to the left of the article. Then, in the dropdown menu provided for namespace, choose Wikipedia and click \\\"Go\\\". When you find \\\"Wikipedia:Recent additions\\\" and a number, click it and search for the article name.\\n\\nCurrent archive\"\r\n}\r\n\r\n... etc\r\n```\r\n\r\nMore examples are available in the [/examples](https://github.com/missinglink/huntsman/tree/master/examples \"Title\") directory\r\n\r\n## Build Status\r\n\r\n[![Build Status](https://travis-ci.org/missinglink/huntsman.png?branch=master)](https://travis-ci.org/missinglink/huntsman)","google":"UA-42558273-1","note":"Don't delete this file! It's used internally to help with page regeneration."}